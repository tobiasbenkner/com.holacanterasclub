import{o as ta,i as h,e as W}from"./each.Bg9aRfnu.js";import{s as X,p as ea,c as A,f as H,a as s,b as ra,d as sa,e as Q,g as a,h as v,i as o,j as M,r as n,t as L,k as y}from"./render.CQASkWDW.js";function Y(P,t,V,O){var _=O,c=!0,w=()=>(c&&(c=!1,_=O),_),U;U=P[t],U===void 0&&O!==void 0&&(U=w());var q;return q=()=>{var R=P[t];return R===void 0?w():(c=!0,R)},q}var na=v('<div class="text-text-muted text-sm">...</div>'),ia=v('<p class="text-text-muted text-sm">-</p>'),la=v('<p class="text-secondary text-xs text-right -mt-0.5"> </p>'),da=v('<div class="flex items-baseline justify-between gap-3 text-sm"><span class="text-text-muted shrink-0"> </span> <span class="border-b border-dotted border-border/50 flex-1 mb-1"></span> <span class="text-white font-medium shrink-0"> </span></div> <!>',1),oa=v('<div class="space-y-1.5"></div>'),va=v('<div class="text-text-muted text-sm">...</div>'),fa=v('<p class="text-text-muted text-sm">-</p>'),_a=v('<p class="text-secondary text-xs -mt-1 text-right"> </p>'),ca=v('<div class="flex items-baseline justify-between gap-3 text-sm"><span class="text-white font-medium shrink-0"> </span> <span class="border-b border-dotted border-border flex-1 mb-1"></span> <span class="text-text-muted shrink-0"> </span></div> <!>',1),ua=v('<div class="space-y-2"></div>'),xa=v('<div class="group bg-background/50 rounded-xl p-5 border border-border hover:border-secondary/50 transition-all duration-300"><div class="flex items-center gap-3 mb-3"><div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center group-hover:bg-secondary/20 transition-colors"><svg class="w-4 h-4 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-base font-bold text-white"> </h3></div> <!></div>');function pa(P,t){sa(t,!0);let V=Y(t,"label",3,""),O=Y(t,"minimal",3,!1),_=X(ea([])),c=X(!0);function w(e,d){return(e??[]).reduce((f,i)=>(f[i.languages_id.code]=i[d]??"",f),{})}async function U(){try{Q(c,!0);const e=new URLSearchParams({"filter[tenant][_eq]":t.tenant,"sort[]":"sort"});e.append("fields[]","*"),e.append("fields[]","translations.*"),e.append("fields[]","translations.languages_id.*");const d=await fetch(`${t.directusUrl}/items/opening_hours?${e}`);if(!d.ok)throw new Error("Failed to fetch opening hours");const f=await d.json();Q(_,(f.data||[]).map(i=>({id:i.id,days_label:w(i.translations,"days_label"),hours_text:w(i.translations,"hours_text"),additional_info:w(i.translations,"additional_info")})),!0)}catch(e){console.error("Error fetching opening hours:",e)}finally{Q(c,!1)}}ta(()=>{U()});var q=A(),R=H(q);{var Z=e=>{var d=A(),f=H(d);{var i=u=>{var k=na();s(u,k)},D=u=>{var k=A(),G=H(k);{var x=g=>{var p=ia();s(g,p)},j=g=>{var p=oa();W(p,21,()=>a(_),z=>z.id,(z,r)=>{var m=da(),b=H(m),l=o(b),S=o(l,!0);n(l);var E=M(l,4),B=o(E,!0);n(E),n(b);var I=M(b,2);{var T=C=>{var F=la(),J=o(F,!0);n(F),L(()=>y(J,a(r).additional_info[t.lang]||a(r).additional_info.es)),s(C,F)};h(I,C=>{(a(r).additional_info[t.lang]||a(r).additional_info.es)&&C(T)})}L(()=>{y(S,a(r).days_label[t.lang]||a(r).days_label.es),y(B,a(r).hours_text[t.lang]||a(r).hours_text.es)}),s(z,m)}),n(p),s(g,p)};h(G,g=>{a(_).length===0?g(x):g(j,!1)},!0)}s(u,k)};h(f,u=>{a(c)?u(i):u(D,!1)})}s(e,d)},$=e=>{var d=xa(),f=o(d),i=M(o(f),2),D=o(i,!0);n(i),n(f);var u=M(f,2);{var k=x=>{var j=va();s(x,j)},G=x=>{var j=A(),g=H(j);{var p=r=>{var m=fa();s(r,m)},z=r=>{var m=ua();W(m,21,()=>a(_),b=>b.id,(b,l)=>{var S=ca(),E=H(S),B=o(E),I=o(B,!0);n(B);var T=M(B,4),C=o(T,!0);n(T),n(E);var F=M(E,2);{var J=K=>{var N=_a(),aa=o(N,!0);n(N),L(()=>y(aa,a(l).additional_info[t.lang]||a(l).additional_info.es)),s(K,N)};h(F,K=>{(a(l).additional_info[t.lang]||a(l).additional_info.es)&&K(J)})}L(()=>{y(I,a(l).days_label[t.lang]||a(l).days_label.es),y(C,a(l).hours_text[t.lang]||a(l).hours_text.es)}),s(b,S)}),n(m),s(r,m)};h(g,r=>{a(_).length===0?r(p):r(z,!1)},!0)}s(x,j)};h(u,x=>{a(c)?x(k):x(G,!1)})}n(d),L(()=>y(D,V())),s(e,d)};h(R,e=>{O()?e(Z):e($,!1)})}s(P,q),ra()}export{pa as default};
