import{o as Ne,i as C,e as Se}from"./each.Bg9aRfnu.js";import{t as S,l as Z,m as ne,n as De,o as je,q as ie,C as Ae,u as Ce,v as Te,H as Ue,w as le,x as Ie,y as Oe,z as V,N as Re,A as ze,B as Be,L as He,D as Ve,s as F,p as Fe,h as w,E as Ge,f as Q,a as h,b as qe,d as Ke,$ as Pe,i as s,g as e,r,j as u,e as T,F as Ye,c as de,k as E,G as We}from"./render.CQASkWDW.js";/* empty css                       */function Je(n,t,i=!1,m=!1,v=!1){var x=n,y="";S(()=>{var M=De;if(y===(y=t()??"")){Z&&ne();return}if(M.nodes!==null&&(je(M.nodes.start,M.nodes.end),M.nodes=null),y!==""){if(Z){ie.data;for(var g=ne(),O=g;g!==null&&(g.nodeType!==Ae||g.data!=="");)O=g,g=Ce(g);if(g===null)throw Te(),Ue;le(ie,O),x=Ie(g);return}var _=y+"";i?_=`<svg>${_}</svg>`:m&&(_=`<math>${_}</math>`);var k=Oe(_);if((i||m)&&(k=V(k)),le(V(k),k.lastChild),i||m)for(;V(k);)x.before(V(k));else x.before(k)}})}const Qe=Symbol("is custom element"),Xe=Symbol("is html");function X(n,t,i,m){var v=Ze(n);Z&&(v[t]=n.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&n.nodeName==="LINK")||v[t]!==(v[t]=i)&&(t==="loading"&&(n[He]=i),i==null?n.removeAttribute(t):typeof i!="string"&&$e(n).includes(t)?n[t]=i:n.setAttribute(t,i))}function Ze(n){return n.__attributes??={[Qe]:n.nodeName.includes("-"),[Xe]:n.namespaceURI===Re}}var ce=new Map;function $e(n){var t=n.getAttribute("is")||n.nodeName,i=ce.get(t);if(i)return i;ce.set(t,i=[]);for(var m,v=n,x=Element.prototype;x!==v;){m=Be(v);for(var y in m)m[y].set&&i.push(y);v=ze(v)}return i}var et=w('<div class="flex flex-col items-center justify-center py-16"><div class="w-12 h-12 border-4 border-secondary border-t-transparent rounded-full animate-spin mb-4"></div> <p class="text-text-muted"> </p></div>'),tt=w('<div class="text-center py-16"><div class="text-6xl mb-4">ðŸ˜•</div> <p class="text-text-muted text-lg"> </p></div>'),at=w('<div class="bg-background rounded-2xl border border-border p-8 md:p-12 text-center"><div class="w-20 h-20 mx-auto mb-6 rounded-full bg-secondary/10 flex items-center justify-center"><span class="text-4xl">ðŸŽ‰</span></div> <h3 class="text-2xl md:text-3xl font-bold text-white mb-4"> </h3> <p class="text-text-muted text-lg max-w-md mx-auto"> </p></div>'),rt=w('<div class="md:w-2/5 relative overflow-hidden"><button type="button" class="w-full cursor-zoom-in"><img class="w-full h-auto object-contain"/></button> <div class="absolute inset-0 bg-linear-to-t from-background/80 via-transparent to-transparent md:bg-gradient-to-r pointer-events-none"></div></div>'),st=w('<span class="inline-flex items-center gap-2 bg-white/5 text-text-muted px-3 py-2 rounded-full text-sm"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </span>'),ot=w('<p class="text-text-muted text-base md:text-lg leading-relaxed mb-4 line-clamp-3 svelte-a3b0pi"><!></p>'),nt=w('<article class="group bg-background rounded-2xl overflow-hidden border border-border hover:border-secondary/50 transition-all duration-300 hover:shadow-lg hover:shadow-secondary/5"><div class="md:flex"><!> <div class="flex-1 p-6 md:p-8 flex flex-col justify-center"><div class="flex flex-wrap items-center gap-3 mb-4"><span class="inline-flex items-center gap-2 bg-secondary/10 text-secondary px-4 py-2 rounded-full text-sm font-semibold"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> </span> <!></div> <h3 class="text-2xl md:text-3xl font-bold text-white mb-3 group-hover:text-secondary transition-colors"> </h3> <!> <div class="flex items-center gap-4 mt-auto pt-4 border-t border-border/50"><div class="flex items-center gap-2"><span class="text-text-muted text-sm"> </span> <span class="text-secondary font-bold text-lg"> </span></div></div></div></div></article>'),it=w('<div class="space-y-6"></div>'),lt=w('<div class="fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4" role="dialog" aria-modal="true" tabindex="-1"><button type="button" class="absolute top-4 right-4 text-white hover:text-secondary transition-colors" aria-label="SchlieÃŸen"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <img alt="" class="max-w-full max-h-full object-contain"/></div>'),dt=w('<div class="max-w-4xl mx-auto"><!></div> <!>',1);function ut(n,t){Ke(t,!0);let i=F(Fe([])),m=F(!0),v=F(null),x=F(null);function y(a){T(x,`${t.directusUrl}/assets/${a}`),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"}function M(){T(x,null),document.documentElement.style.overflow="",document.body.style.overflow=""}function g(a){a.key==="Escape"&&e(x)&&M()}const O={es:{noEvents:"No hay eventos programados",noEventsDescription:"Estamos preparando algo especial. Â¡Vuelve pronto para descubrir nuestros prÃ³ximos eventos!",price:"Entrada",free:"Gratis",loading:"Cargando eventos...",error:"Error al cargar los eventos"},en:{noEvents:"No events scheduled",noEventsDescription:"We're preparing something special. Come back soon to discover our upcoming events!",price:"Entry",free:"Free",loading:"Loading events...",error:"Error loading events"}},_=Ye(()=>O[t.lang]||O.es);function k(a){const o=new Date(a),f={weekday:"long",day:"numeric",month:"long"},c=o.toLocaleDateString(t.lang==="en"?"en-US":"es-ES",f);return c.charAt(0).toUpperCase()+c.slice(1)}function ve(a){return a?`${t.directusUrl}/assets/${a}?width=800`:""}function R(a,o){const f=(c,l)=>l.split(".").reduce((L,N)=>L?.[N],c);return(a??[]).reduce((c,l)=>(c[l.languages_id.code]=f(l,o)??"",c),{})}async function fe(){try{T(m,!0),T(v,null);const a=new Date().toISOString().split("T")[0],o=new URLSearchParams({"filter[tenant][_eq]":t.tenant,"filter[date][_gte]":a,"sort[]":"date"});o.append("fields[]","*"),o.append("fields[]","image.*"),o.append("fields[]","translations.*"),o.append("fields[]","translations.languages_id.*");const f=await fetch(`${t.directusUrl}/items/events?${o}`);if(!f.ok)throw new Error("Failed to fetch events");const c=await f.json();T(i,(c.data||[]).map(l=>({id:l.id,date:l.date,time:l.time,price:l.price,image:l.image?.id??l.image,title:R(l.translations,"title"),description:R(l.translations,"description"),slug:R(l.translations,"slug"),seo_title:R(l.translations,"seo.title"),seo_description:R(l.translations,"seo.meta_description")})),!0)}catch(a){console.error("Error fetching events:",a),T(v,e(_).error,!0)}finally{T(m,!1)}}Ne(()=>{fe()});var $=dt();Ge("keydown",Pe,g);var G=Q($),ue=s(G);{var pe=a=>{var o=et(),f=u(s(o),2),c=s(f,!0);r(f),r(o),S(()=>E(c,e(_).loading)),h(a,o)},me=a=>{var o=de(),f=Q(o);{var c=L=>{var N=tt(),z=u(s(N),2),q=s(z,!0);r(z),r(N),S(()=>E(q,e(v))),h(L,N)},l=L=>{var N=de(),z=Q(N);{var q=U=>{var D=at(),j=u(s(D),2),d=s(j,!0);r(j);var I=u(j,2),B=s(I,!0);r(I),r(D),S(()=>{E(d,e(_).noEvents),E(B,e(_).noEventsDescription)}),h(U,D)},he=U=>{var D=it();Se(D,23,()=>e(i),j=>j.id,(j,d)=>{var I=nt(),B=s(I),ee=s(B);{var xe=p=>{var b=rt(),A=s(b);A.__click=J=>{J.preventDefault(),y(e(d).image)};var H=s(A);r(A),We(2),r(b),S(J=>{X(H,"src",J),X(H,"alt",e(d).title[t.lang]||e(d).title.es)},[()=>ve(e(d).image)]),h(p,b)};C(ee,p=>{e(d).image&&p(xe)})}var te=u(ee,2),K=s(te),P=s(K),be=u(s(P));r(P);var we=u(P,2);{var ye=p=>{var b=st(),A=u(s(b));r(b),S(H=>E(A,` ${H??""}`),[()=>e(d).time.slice(0,5)]),h(p,b)};C(we,p=>{e(d).time&&p(ye)})}r(K);var Y=u(K,2),ke=s(Y,!0);r(Y);var ae=u(Y,2);{var Ee=p=>{var b=ot(),A=s(b);Je(A,()=>e(d).description[t.lang]||e(d).description.es),r(b),h(p,b)};C(ae,p=>{(e(d).description[t.lang]||e(d).description.es)&&p(Ee)})}var re=u(ae,2),se=s(re),W=s(se),Me=s(W);r(W);var oe=u(W,2),Le=s(oe,!0);r(oe),r(se),r(re),r(te),r(B),r(I),S(p=>{E(be,` ${p??""}`),E(ke,e(d).title[t.lang]||e(d).title.es),E(Me,`${e(_).price??""}:`),E(Le,e(d).price>0?`${e(d).price}â‚¬`:e(_).free)},[()=>k(e(d).date)]),h(j,I)}),r(D),h(U,D)};C(z,U=>{e(i).length===0?U(q):U(he,!1)},!0)}h(L,N)};C(f,L=>{e(v)?L(c):L(l,!1)},!0)}h(a,o)};C(ue,a=>{e(m)?a(pe):a(me,!1)})}r(G);var ge=u(G,2);{var _e=a=>{var o=lt();o.__click=M,o.__keydown=g;var f=s(o);f.__click=M;var c=u(f,2);r(o),S(()=>X(c,"src",e(x))),h(a,o)};C(ge,a=>{e(x)&&a(_e)})}h(n,$),qe()}Ve(["click","keydown"]);export{ut as default};
